<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>استبيان أطباء الأسنان</title>
  <style>
    :root {
      --primary-color: #2c7be5;
      --secondary-color: #00d97e;
      --dark-color: #12263f;
      --light-color: #f9fbfd;
      --gray-color: #95aac9;
      --border-radius: 12px;
      --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      --transition: all 0.3s ease;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background-color: #f5f7fa;
      color: var(--dark-color);
      line-height: 1.7;
      padding: 0;
      margin: 0;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, var(--primary-color), #1a5cb8);
      color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      position: relative;
      overflow: hidden;
    }
    
    .header h1 {
      font-size: 28px;
      margin-bottom: 10px;
      position: relative;
    }
    
    .header p {
      font-size: 16px;
      opacity: 0.9;
      position: relative;
    }
    
    .header i {
      margin-left: 10px;
      font-size: 24px;
      vertical-align: middle;
    }
    
    .form-card {
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 30px;
      margin-bottom: 30px;
      transition: var(--transition);
    }
    
    .section-title {
      font-size: 20px;
      color: var(--primary-color);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e9ecef;
      display: flex;
      align-items: center;
    }
    
    .section-title i {
      margin-left: 10px;
      font-size: 22px;
    }
    
    .form-group {
      margin-bottom: 25px;
    }
    
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--dark-color);
    }
    
    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #e1e5eb;
      border-radius: 8px;
      font-size: 16px;
      transition: var(--transition);
      background-color: #f9fbfd;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(44, 123, 229, 0.2);
      background-color: white;
    }
    
    .question-card {
      background-color: #f9fbfd;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid var(--primary-color);
      transition: var(--transition);
    }
    
    .question-text {
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--dark-color);
      display: flex;
    }
    
    .question-number {
      background-color: var(--primary-color);
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-left: 10px;
      font-size: 14px;
    }
    
    .options-container {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
    }
    
    .radio-option {
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    
    .radio-option input {
      display: none;
    }
    
    .radio-custom {
      width: 20px;
      height: 20px;
      border: 2px solid var(--gray-color);
      border-radius: 50%;
      margin-left: 8px;
      position: relative;
      transition: var(--transition);
    }
    
    .radio-option input:checked + .radio-custom {
      border-color: var(--primary-color);
      background-color: var(--primary-color);
    }
    
    .radio-option input:checked + .radio-custom::after {
      content: "";
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: white;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    
    .radio-option:hover .radio-custom {
      border-color: var(--primary-color);
    }
    
    .notes-label {
      display: block;
      font-size: 14px;
      color: var(--gray-color);
      margin-bottom: 8px;
    }
    
    .notes-box {
      width: 100%;
      padding: 12px;
      border: 1px solid #e1e5eb;
      border-radius: 8px;
      resize: vertical;
      min-height: 80px;
      font-size: 14px;
      transition: var(--transition);
      background-color: white;
    }
    
    .submit-btn {
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 30px auto;
      padding: 15px;
      background: linear-gradient(to right, var(--primary-color), #1a5cb8);
      color: white;
      border: none;
      border-radius: 50px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(44, 123, 229, 0.3);
    }
    
    .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(44, 123, 229, 0.4);
    }
    
    .submit-btn:active {
      transform: translateY(1px);
    }
    
    .footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      color: var(--gray-color);
      font-size: 14px;
    }
    
    .alert {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 8px;
      color: white;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: fadeIn 0.3s ease;
      display: flex;
      align-items: center;
      max-width: 400px;
    }
    
    .alert-success {
      background: linear-gradient(to right, #00b09b, #96c93d);
    }
    
    .alert-error {
      background: linear-gradient(to right, #ff416c, #ff4b2b);
    }
    
    .alert i {
      margin-left: 10px;
      font-size: 20px;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fadeOut {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(-20px); }
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .header h1 {
        font-size: 24px;
      }
      
      .form-card {
        padding: 20px;
      }
      
      .options-container {
        flex-direction: column;
        gap: 10px;
      }
      
      .alert {
        max-width: 90%;
        right: 5%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-tooth"></i> استبيان أطباء الأسنان</h1>
      <p>نقدر مشاركتكم القيمة في هذا الاستبيان لتحسين تجربة العمل في مجال الهندسة الطبية الحيوية</p>
    </div>
    
    <div class="form-card">
      <h2 class="section-title"><i class="fas fa-user-md"></i> المعلومات الأساسية</h2>
      
      <div class="form-group">
        <label for="doctorName">اسم الدكتور/ة</label>
        <input type="text" id="doctorName" class="form-control" placeholder="الرجاء إدخال الاسم الكامل" required>
      </div>
      
      <div class="form-group">
        <label for="doctorPhone">رقم الجوال</label>
        <input type="tel" id="doctorPhone" class="form-control" placeholder="777XXXXXX" required>
      </div>
      
      <div class="form-group">
        <label for="clinicName">اسم العيادة/المركز</label>
        <input type="text" id="clinicName" class="form-control" placeholder="اسم العيادة أو المركز الطبي" required>
      </div>
    </div>
    
    <div class="form-card">
      <h2 class="section-title"><i class="fas fa-clipboard-list"></i> الأسئلة التخصصية</h2>
      <p style="margin-bottom: 20px; color: var(--gray-color);">السادة أطباء الأسنان المحترمون، نرجو منكم التكرم بالإجابة بـ (نعم) أو (لا) لكل سؤال من الأسئلة التالية:</p>
      
      <div id="questionsContainer">
        <!-- الأسئلة ستضاف هنا تلقائيا -->
      </div>
    </div>
    
    <button class="submit-btn" onclick="sendSurveyResults()">
      <i class="fas fa-paper-plane" style="margin-left: 10px;"></i> إرسال الاستبيان
    </button>
    
    <div class="footer">
      <p>© <span id="currentYear"></span> استبيان أطباء الأسنان - جميع الحقوق محفوظة</p>
    </div>
  </div>

<script>
  // قائمة الأسئلة
  const questions = [
      "هل تواجه ضوضاء عالية في كرسي الأسنان الحالي؟",
      "هل تعاني من ضعف إضاءة وحدة العمل؟",
      "هل ترى أن الكرسي الحالي غير مريح للمرضى؟",
      "هل يتعرض الكرسي لأعطال متكررة؟",
      "هل تواجه مشاكل في نظام الشفط؟",
      "هل تواجه مشاكل في وحدة التحكم؟",
      "هل تواجه صعوبة في الصيانة أو توفر قطع الغيار؟",
      "هل ترى أن الكرسي يحتاج إلى تحسينات من أي ناحية؟",
      "هل ترى أن تصميم الكرسي الحالي غير مناسب لراحة الطبيب أو المساعد؟",
      "هل تحتاج إلى تقنيات حديثة في الكرسي (شاشة - كاميرا - سماعات)؟",
      "هل تستخدم حاليًا كرسي أسنان تقليدي بدون إضافات كهربائية؟",
      "هل تواجه مشاكل متكررة مع الكمبروسور الخارجي؟",
      "هل ترى أن خزان الهواء الخارجي يمثل صعوبة في الحركة أو الترتيب؟",
      "هل ترى أن دمج كمبروسور ودبّة الهواء داخل الكرسي يحل المشكلة؟",
      "هل تفضل وجود شاشة عرض أندرويد مدمجة مع الكرسي؟",
      "هل ترى أن نظام السكشن الكهربائي أفضل؟",
      "هل تفضل أن يكون نظام الماء كهربائيًا؟",
      "هل ترى أن دمج هذه التعديلات يجعل عملك أسهل؟",
      "هل تؤيد استبدال الكراسي القديمة بنماذج حديثة؟",
      "هل ترى ضرورة إضافة مميزات أخرى؟",
      "هل تفضل أن يكون الكرسي الجديد كامل المواصفات؟",
      "هل تقترح أي تحسينات إضافية؟"
    ];


  // إضافة الأسئلة إلى الصفحة
  const questionsContainer = document.getElementById("questionsContainer");
  
  questions.forEach((question, index) => {
    const questionCard = document.createElement("div");
    questionCard.className = "question-card";
    questionCard.innerHTML = `
      <div class="question-text">
        <span class="question-number">${index + 1}</span>
        ${question}
      </div>
      
      <div class="options-container">
        <label class="radio-option">
          <input type="radio" name="q${index + 1}" value="نعم" required>
          <span class="radio-custom"></span>
          نعم
        </label>
        
        <label class="radio-option">
          <input type="radio" name="q${index + 1}" value="لا">
          <span class="radio-custom"></span>
          لا
        </label>
      </div>
      
      <label class="notes-label">ملاحظات إضافية (اختياري):</label>
      <textarea class="notes-box" placeholder="يمكنك كتابة أي ملاحظات أو تفاصيل إضافية هنا..."></textarea>
    `;
    
    questionsContainer.appendChild(questionCard);
  });

  // دالة إرسال النتائج كنص عادي
  async function sendSurveyResults() {
    // التحقق من إدخال البيانات الأساسية
    const doctorName = document.getElementById("doctorName").value.trim();
    const doctorPhone = document.getElementById("doctorPhone").value.trim();
    const clinicName = document.getElementById("clinicName").value.trim();
    
    if (!doctorName || !doctorPhone || !clinicName) {
      showAlert('error', 'بيانات ناقصة', 'الرجاء إدخال جميع المعلومات الأساسية قبل الإرسال');
      return;
    }
    
    // التحقق من إجابة جميع الأسئلة
    const radioGroups = new Set();
    questions.forEach((_, index) => radioGroups.add(`q${index + 1}`));
    
    let allAnswered = true;
    for (const group of radioGroups) {
      if (!document.querySelector(`input[name="${group}"]:checked`)) {
        allAnswered = false;
        break;
      }
    }
    
    if (!allAnswered) {
      showAlert('error', 'إجابات ناقصة', 'الرجاء الإجابة على جميع الأسئلة قبل الإرسال');
      return;
    }
    
    // إنشاء نص التقرير
    let reportText = `📊 *استبيان أطباء الأسنان*\n\n`;
    reportText += `👤 *اسم الطبيب/ة:* د. ${doctorName}\n`;
    reportText += `📞 *رقم الجوال:* ${doctorPhone}\n`;
    reportText += `🏥 *اسم العيادة:* ${clinicName}\n`;
    reportText += `📅 *تاريخ التقرير:* ${new Date().toLocaleDateString('ar-EG')}\n\n`;
    reportText += `🔍 *نتائج الاستبيان:*\n\n`;
    
    // إضافة الأسئلة والإجابات
    Array.from(document.querySelectorAll('.question-card')).forEach((card, index) => {
      const questionText = card.querySelector('.question-text').childNodes[2].textContent.trim();
      const answer = card.querySelector(`input[name="q${index + 1}"]:checked`).value;
      const notes = card.querySelector('textarea').value.trim();
      
      reportText += `*${index + 1}. ${questionText}*\n`;
      reportText += `   - الإجابة: ${answer}\n`;
      if (notes) {
        reportText += `   - الملاحظات: ${notes}\n`;
      }
      reportText += `\n`;
    });
    
    reportText += `شكراً لكم على مشاركتكم القيمة في هذا الاستبيان 🌟`;
    
    // إرسال إلى Telegram
    try {
      // استبدل هذه القيم بمعلومات البوت الخاصة بك
      const botToken = '5498303276:AAGgaz4Zj7kNz-3zLwF0M2DmkHjPcS9uUxo';
      const chatId = '@poll796';
      
      const messageText = encodeURIComponent(reportText);
      
      const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${messageText}&parse_mode=Markdown`);
      
      const result = await response.json();
      
      if (result.ok) {
        showAlert('success', 'تم الإرسال بنجاح', 'شكراً لمشاركتك في الاستبيان!');
      } else {
        console.error('تفاصيل الخطأ:', result);
        showAlert('error', 'خطأ في الإرسال', result.description || 'حدث خطأ غير متوقع');
      }
    } catch (error) {
      console.error('خطأ في الإرسال:', error);
      showAlert('error', 'خطأ في الاتصال', 'تعذر الاتصال بخادم Telegram');
    }
  }
  
  // دالة لعرض التنبيهات
  function showAlert(type, title, message) {
    const alertDiv = document.createElement('div');
    alertDiv.className = `alert alert-${type}`;
    alertDiv.innerHTML = `
      <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}"></i>
      <div>
        <strong>${title}</strong>
        <div style="font-size:14px;margin-top:3px;">${message}</div>
      </div>
    `;
    
    document.body.appendChild(alertDiv);
    
    setTimeout(() => {
      alertDiv.style.animation = 'fadeOut 0.3s ease';
      setTimeout(() => alertDiv.remove(), 300);
    }, 5000);
  }

  // إضافة السنة الحالية في التذييل
  document.getElementById('currentYear').textContent = new Date().getFullYear();
</script>

</body>
</html>